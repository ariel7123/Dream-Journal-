# מסמך מאפיין - יומן חלומות 🌙

## 1. סקירה כללית

### 1.1 תיאור המוצר
אפליקציית ווב לתיעוד חלומות אישיים. המשתמש יכול לרשום חלומות, לארגן אותם עם תגיות, ולעקוב אחר דפוסים לאורך זמן.

### 1.2 קהל יעד
- אנשים שרוצים לתעד את החלומות שלהם
- חוקרי חלומות חובבים
- אנשים שמתעניינים בפסיכולוגיה אישית

### 1.3 טכנולוגיות
| שכבה | טכנולוגיה |
|------|-----------|
| Frontend | React + TypeScript |
| עיצוב | SCSS (BEM) |
| Backend | Node.js + Express + TypeScript |
| Database | MongoDB |
| אימות | JWT |

---

## 2. פיצ'רים - לפי שלבים

### שלב 1 - MVP (חובה להגשה ראשונה)
| פיצ'ר | תיאור |
|-------|--------|
| הרשמה | שם, אימייל, סיסמה |
| התחברות | אימייל + סיסמה, קבלת JWT |
| הוספת חלום | כותרת, תוכן, תאריך |
| רשימת חלומות | הצגת כל החלומות של המשתמש |
| צפייה בחלום | פתיחת חלום בודד |
| עריכת חלום | שינוי כותרת/תוכן/תאריך |
| מחיקת חלום | מחיקה עם אישור |

### שלב 2 - הרחבות
| פיצ'ר | תיאור |
|-------|--------|
| דירוג בהירות | סקאלה 1-5 |
| מצב רוח | בחירה מרשימה קבועה |
| תגיות | הוספת תגיות חופשיות |
| מועדפים | סימון חלום כמועדף |
| חיפוש | חיפוש טקסט חופשי |

### שלב 3 - בונוסים
| פיצ'ר | תיאור |
|-------|--------|
| סטטיסטיקות | גרפים, תגיות נפוצות |
| סינון | לפי תאריך, מצב רוח, תגיות |
| מצב כהה | עיצוב לשעות הלילה |

---

## 3. מבנה הנתונים

### User (משתמש)
```typescript
interface User {
  _id: ObjectId;
  name: string;
  email: string;        // ייחודי
  password: string;     // מוצפן עם bcrypt
  createdAt: Date;
}
```

### Dream (חלום) - MVP
```typescript
interface Dream {
  _id: ObjectId;
  userId: ObjectId;     // הפניה ל-User
  title: string;        // עד 100 תווים
  content: string;
  date: Date;
  createdAt: Date;
  updatedAt: Date;
}
```

### Dream (חלום) - מורחב (שלב 2)
```typescript
interface Dream {
  _id: ObjectId;
  userId: ObjectId;
  title: string;
  content: string;
  date: Date;
  clarity: number;      // 1-5
  mood: Mood;
  tags: string[];
  isFavorite: boolean;
  createdAt: Date;
  updatedAt: Date;
}

type Mood = 'happy' | 'sad' | 'scared' | 'confused' | 
            'peaceful' | 'anxious' | 'excited' | 'neutral';
```

---

## 4. API Endpoints

### אימות (Auth)
| Method | Endpoint | תיאור | דורש JWT |
|--------|----------|--------|----------|
| POST | /api/auth/register | הרשמה | ❌ |
| POST | /api/auth/login | התחברות | ❌ |
| GET | /api/auth/me | פרטי משתמש | ✅ |

### חלומות (Dreams) - MVP
| Method | Endpoint | תיאור | דורש JWT |
|--------|----------|--------|----------|
| GET | /api/dreams | כל החלומות | ✅ |
| GET | /api/dreams/:id | חלום בודד | ✅ |
| POST | /api/dreams | יצירת חלום | ✅ |
| PUT | /api/dreams/:id | עדכון חלום | ✅ |
| DELETE | /api/dreams/:id | מחיקת חלום | ✅ |

### חלומות - הרחבות (שלב 2)
| Method | Endpoint | תיאור | דורש JWT |
|--------|----------|--------|----------|
| PATCH | /api/dreams/:id/favorite | החלפת מועדף | ✅ |
| GET | /api/dreams/favorites | כל המועדפים | ✅ |
| GET | /api/dreams/tags | כל התגיות | ✅ |
| GET | /api/dreams/search | חיפוש | ✅ |
| GET | /api/dreams/stats | סטטיסטיקות | ✅ |

---

## 5. מסכים (Screens)

### MVP
1. **דף הרשמה** - טופס הרשמה
2. **דף התחברות** - טופס התחברות
3. **דף ראשי** - רשימת כל החלומות
4. **דף הוספה** - טופס חלום חדש
5. **דף עריכה** - עריכת חלום קיים
6. **דף צפייה** - צפייה בחלום בודד

### הרחבות
7. **דף מועדפים** - רשימת מועדפים
8. **דף סטטיסטיקות** - גרפים ונתונים

---

## 6. מבנה תיקיות מתוכנן

```
dream-journal/
├── client/                 # React Frontend
│   ├── src/
│   │   ├── components/     # קומפוננטות
│   │   ├── pages/          # דפים
│   │   ├── styles/         # SCSS (BEM)
│   │   ├── services/       # קריאות API
│   │   ├── context/        # React Context
│   │   ├── types/          # TypeScript types
│   │   └── utils/          # פונקציות עזר
│   └── package.json
│
├── server/                 # Node.js Backend
│   ├── src/
│   │   ├── config/         # הגדרות DB
│   │   ├── models/         # Mongoose schemas
│   │   ├── routes/         # נתיבי API
│   │   ├── controllers/    # לוגיקה
│   │   ├── middleware/     # JWT וכו'
│   │   └── types/          # TypeScript types
│   └── package.json
│
└── README.md
```

---

## 7. כללי עיצוב (BEM)

### מבנה שמות
```scss
// Block
.dream-card { }

// Element
.dream-card__title { }
.dream-card__content { }
.dream-card__date { }

// Modifier
.dream-card--favorite { }
.dream-card--expanded { }
```

### דוגמה
```scss
.dream-card {
  background: white;
  border-radius: 8px;
  padding: 16px;
  
  &__title {
    font-size: 1.25rem;
    font-weight: bold;
  }
  
  &__content {
    color: #666;
    margin-top: 8px;
  }
  
  &--favorite {
    border-left: 4px solid gold;
  }
}
```

---

## 8. לו"ז משוער

| שבוע | משימות |
|------|--------|
| 1 | הקמת פרויקט, מבנה תיקיות, DB |
| 2 | Backend - Auth + Dreams API |
| 3 | Frontend - הרשמה, התחברות |
| 4 | Frontend - CRUD חלומות |
| 5 | עיצוב SCSS + תיקונים |
| 6 | הרחבות (תגיות, מועדפים) |
| 7 | סטטיסטיקות + חיפוש |
| 8 | בדיקות + תיקונים + הגשה |

---

## 9. הערות נוספות

- **אבטחה**: סיסמאות מוצפנות עם bcrypt
- **Validation**: בדיקת קלט בשרת ובקליינט
- **Responsive**: עיצוב מותאם למובייל
- **Error Handling**: הודעות שגיאה ברורות למשתמש